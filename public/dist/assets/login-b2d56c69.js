import{K as y,a1 as v,r as a,j as s,M as e,a7 as w,G as I,a8 as L,S as r,a as k,T as S,b as x,a0 as C,a3 as P,I as E,X as F,a9 as W,q as B,W as T}from"./index-98bf78b2.js";function z(){const h=y(),l=v(),[o,p]=a.useState(!1),[g,u]=a.useState(""),[d,m]=a.useState(""),[j,c]=a.useState(!1),f=async t=>{t.preventDefault(),c(!0);try{const i=await B.post("http://65.1.233.188:9000/api/v1/admin/login",{email:g,password:d}),{data:n}=i;n.meta.status?(localStorage.setItem("authKey",n.token),l("/")):alert(n.meta.msg)}catch(i){console.error("Login error:",i),alert("Error logging in. Please check your credentials and try again.")}finally{c(!1)}},b=s.jsxs(s.Fragment,{children:[s.jsxs(r,{spacing:3,children:[s.jsx(x,{name:"email",label:"Email address",value:g,onChange:t=>u(t.target.value),fullWidth:!0}),s.jsx(x,{name:"password",label:"Password",type:o?"text":"password",value:d,onChange:t=>m(t.target.value),fullWidth:!0,InputProps:{endAdornment:s.jsx(C,{position:"end",children:s.jsx(P,{onClick:()=>p(!o),edge:"end",children:s.jsx(E,{icon:o?"eva:eye-fill":"eva:eye-off-fill"})})})}})]}),s.jsx(r,{direction:"row",alignItems:"center",justifyContent:"flex-end",sx:{my:3},children:s.jsx(F,{variant:"subtitle2",underline:"hover",onClick:()=>l("/forgot-password"),children:"Forgot password?"})}),s.jsx(W,{fullWidth:!0,size:"large",type:"submit",variant:"contained",color:"inherit",sx:{bgcolor:"#40189d"},loading:j,onClick:f,children:"Login"})]});return s.jsxs(e,{sx:{...w({color:I(h.palette.background.default,.9),imgUrl:"/assets/background/overlay_4.jpg"}),height:1,position:"relative"},children:[s.jsx(e,{sx:{position:"absolute",top:"60%",left:"20%"},children:s.jsx("img",{src:"/assets/images/login/cash.png",alt:""})}),s.jsx(e,{sx:{position:"absolute",top:"20%",right:"20%"},children:s.jsx("img",{src:"/assets/images/login/grocery.png",alt:""})}),s.jsx(e,{sx:{position:"absolute",top:"20%",left:"10%"},children:s.jsx("img",{src:"/assets/images/login/grocery1.png",alt:""})}),s.jsx(e,{sx:{position:"absolute",top:"70%",right:"10%"},children:s.jsx("img",{src:"/assets/images/login/toys.png",alt:""})}),s.jsx(e,{sx:{position:"absolute",top:"10%",right:"50%"},children:s.jsx("img",{src:"/assets/images/login/biscuit.png",alt:""})}),s.jsx(e,{sx:{position:"absolute",top:"80%",right:"40%"},children:s.jsx("img",{src:"/assets/images/login/counter.png",alt:""})}),s.jsx(L,{sx:{position:"fixed",top:{xs:16,md:24},left:{xs:16,md:24}}}),s.jsx(r,{alignItems:"center",justifyContent:"center",sx:{height:1,bgcolor:"#40189d"},children:s.jsxs(k,{sx:{p:5,width:1,maxWidth:420,overflow:"hidden",position:"relative"},children:[s.jsx(e,{sx:{position:"absolute",top:-35,right:-35,height:"100px",width:"100px",borderRadius:40,bgcolor:"#40189da3",zIndex:99}}),s.jsx(e,{sx:{position:"absolute",top:-45,right:-45,height:"100px",width:"100px",borderRadius:40,bgcolor:"#40189d",zIndex:999}}),s.jsx(S,{variant:"h4",sx:{marginBottom:2,textAlign:"center",color:"#40189d"},children:"Sign in"}),b]})})]})}function R(){return s.jsxs(s.Fragment,{children:[s.jsx(T,{children:s.jsx("title",{children:" Login | Minimal UI "})}),s.jsx(z,{})]})}export{R as default};
