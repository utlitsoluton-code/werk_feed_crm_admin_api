import{H as k,aj as L,r as s,j as e,K as I,ak as S,E as r,al as E,S as n,a as W,T as x,ab as m,B as h,I as o,am as F,o as p,ad as P,a3 as B,an as z,L as D,W as T}from"./index-0b328c32.js";function A(){const a=k(),i=L(),[l,f]=s.useState(!1),[g,v]=s.useState(""),[u,y]=s.useState(""),[w,j]=s.useState(!1),b=async t=>{t.preventDefault(),j(!0);try{const d=await D.post("http://65.1.233.188:9000/api/v1/admin/login",{email:g,password:u}),{data:c}=d;c.meta.status?(localStorage.setItem("authKey",c.token),i("/")):alert(c.meta.msg)}catch(d){console.error("Login error:",d),alert("Error logging in. Please check your credentials and try again.")}finally{j(!1)}},C=e.jsxs(e.Fragment,{children:[e.jsxs(n,{spacing:3,children:[e.jsx(p,{name:"email",label:"Email address",value:g,onChange:t=>v(t.target.value),fullWidth:!0}),e.jsx(p,{name:"password",label:"Password",type:l?"text":"password",value:u,onChange:t=>y(t.target.value),fullWidth:!0,InputProps:{endAdornment:e.jsx(P,{position:"end",children:e.jsx(B,{onClick:()=>f(!l),edge:"end",children:e.jsx(o,{icon:l?"eva:eye-fill":"eva:eye-off-fill"})})})}})]}),e.jsx(n,{direction:"row",alignItems:"center",justifyContent:"flex-end",sx:{my:3},children:e.jsx(m,{variant:"subtitle2",underline:"hover",onClick:()=>i("/forgot-password"),children:"Forgot password?"})}),e.jsx(z,{fullWidth:!0,size:"large",type:"submit",variant:"contained",color:"inherit",loading:w,onClick:b,children:"Login"})]});return e.jsxs(I,{sx:{...S({color:r(a.palette.background.default,.9),imgUrl:"/assets/background/overlay_4.jpg"}),height:1},children:[e.jsx(E,{sx:{position:"fixed",top:{xs:16,md:24},left:{xs:16,md:24}}}),e.jsx(n,{alignItems:"center",justifyContent:"center",sx:{height:1},children:e.jsxs(W,{sx:{p:5,width:1,maxWidth:420},children:[e.jsx(x,{variant:"h4",children:"Sign in"}),e.jsxs(x,{variant:"body2",sx:{mt:2,mb:5},children:["Donâ€™t have an account?",e.jsx(m,{variant:"subtitle2",sx:{ml:.5},onClick:()=>i("/register"),children:"Get started"})]}),e.jsxs(n,{direction:"row",spacing:2,children:[e.jsx(h,{fullWidth:!0,size:"large",color:"inherit",variant:"outlined",sx:{borderColor:r(a.palette.grey[500],.16)},children:e.jsx(o,{icon:"eva:google-fill",color:"#DF3E30"})}),e.jsx(h,{fullWidth:!0,size:"large",color:"inherit",variant:"outlined",sx:{borderColor:r(a.palette.grey[500],.16)},children:e.jsx(o,{icon:"eva:facebook-fill",color:"#1877F2"})}),e.jsx(h,{fullWidth:!0,size:"large",color:"inherit",variant:"outlined",sx:{borderColor:r(a.palette.grey[500],.16)},children:e.jsx(o,{icon:"eva:twitter-fill",color:"#1C9CEA"})})]}),e.jsx(F,{sx:{my:3},children:e.jsx(x,{variant:"body2",sx:{color:"text.secondary"},children:"OR"})}),C]})})]})}function K(){return e.jsxs(e.Fragment,{children:[e.jsx(T,{children:e.jsx("title",{children:" Login | Minimal UI "})}),e.jsx(A,{})]})}export{K as default};
